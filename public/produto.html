<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalhes do Produto</title>
    <link rel="stylesheet" href="../css/produtos.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../css/menu_rodape.css" />
    <link
      rel="icon"
      type="image/png"
      href="../img/favicon/logo.png"
      sizes="96x96"
    />
    <link rel="stylesheet" href="../css/produto_detalhe.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script type="module" src="../js/frontendProdutoDetalhe.js" defer></script>
    <script src="../js/frontendPadrao.js" defer></script>
  </head>
  <body>
    <!-- Navegação principal - Menu do site -->
    <nav class="holo-header menu_green_line" role="banner">
      <nav
        class="navbar navbar-expand-lg container bg-dark.bg-gradient"
        aria-label="Navegação principal"
      >
        <img
          src="../img/logo.png"
          alt="Logo GreenLine - Folha verde estilizada"
          width="40"
          height="40"
        />

        <!-- Título da marca -->
        <a class="navbar-brand" href="../index.html" aria-current="page"
          >GreenLine</a
        >

        <!-- Botão para dispositivos menores com label melhorado -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarContent"
          aria-controls="navbarContent"
          aria-expanded="false"
          aria-label="Alternar navegação"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Conteúdo do menu de navegação -->
        <div class="collapse navbar-collapse" id="navbarContent">
          <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link active"
                href="../index.html"
                aria-current="page"
                >Início</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link active"
                href="produtos.html"
                aria-current="page"
                >Produtos</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="manutencao.html">Ofertas</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="sobre.html">Sobre</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contato.html">Contato</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="manutencao.html"
                style="color: #198754 !important"
              >
                ReViva
              </a>
            </li>
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link icon-btn"
                href="carrinho.html"
                aria-label="Carrinho de compras"
              >
                <i class="bi bi-cart position-relative" aria-hidden="true">
                  <span
                    class="badge text-bg-success position-absolute top-0 start-100 translate-middle rounded-circle border border-light badge-sm"
                    id="badge-carrinho"
                    >0</span
                  >
                </i>
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link icon-btn"
                href="login.html"
                id="link-usuario"
                aria-label="Área do usuário"
                ><i
                  id="icone-usuario"
                  class="bi bi-person"
                  aria-hidden="true"
                ></i
              ></a>
            </li>
          </ul>
        </div>
      </nav>
    </nav>
    <!-- Fim do menu/header -->
    <div
      class="container produto-detalhe-container mt-5"
      style="position: relative"
    >
      <button
        id="btn-voltar-produtos"
        aria-label="Voltar para a lista de produtos"
        class="btn btn-link p-0"
        style="
          font-size: 2rem;
          position: absolute;
          top: 10px;
          left: 10px;
          z-index: 10;
        "
      >
        &times;
      </button>
      <main>
        <div class="row produto-detalhe-row g-4">
          <!-- Coluna da Imagem -->
          <div class="col-md-5 produto-img-col">
            <div class="produto-img-wrapper">
              <img
                id="produto-img-principal"
                src="../img/imagem-nao-disponivel.png"
                class="produto-img img-fluid"
              />
            </div>
            <div
              class="produto-thumbs d-flex justify-content-center gap-2 mt-3"
              id="produto-thumbs"
            >
              <!-- Miniaturas serão preenchidas via JS -->
            </div>
          </div>
          <!-- Coluna das Informações -->
          <div class="col-md-7 produto-info-col">
            <div class="d-flex align-items-center gap-2 mb-2">
              <span
                class="badge bg-light text-dark border produto-categoria"
                id="produto-categoria"
                >Categoria</span
              >
              <span
                class="badge bg-success bg-opacity-25 text-success produto-estoque"
                id="produto-estoque"
                >Em estoque</span
              >
            </div>
            <h1 class="produto-nome mb-1" id="produto-nome">Nome Produto</h1>
            <div class="d-flex align-items-center gap-1 mb-1">
              <span class="produto-estrelas" id="produto-estrelas">
                <!-- Estrelas -->
              </span>
              <span class="text-muted small ms-1" id="produto-num-avaliacoes"
                >(0 avaliações)</span
              >
            </div>
            <div class="produto-preco mb-1">
              <span class="original-price" id="produto-preco-original"
                >R$ 0,00</span
              >
              <span class="discount-price" id="produto-preco-promocional"
                >R$ 0,00</span
              >
            </div>
            <div
              class="text-muted mb-2"
              style="font-size: 0.95em"
              id="produto-parcelamento"
            >
              ou 12x de R$ 0,00 sem juros
            </div>
            <div class="produto-descricao mb-2">
              <strong>Descrição:</strong>
              <div class="text-muted small" id="produto-descricao">
                Descrição do produto.
              </div>
            </div>
            <div class="bloco-caracteristicas mb-3 p-2 rounded border">
              <strong>Características Principais:</strong>
              <ul class="mb-0 mt-1 ps-3 small" id="produto-caracteristicas">
                <!-- Características via JS -->
              </ul>
            </div>

            <!-- Seleção de Tamanho/Medidas -->
            <div class="produto-opcoes mb-3" id="produto-opcoes" style="display: none;">
              <div class="mb-3">
                <label class="form-label fw-bold">Tamanho:</label>
                <div class="tamanhos-container" id="tamanhos-container">
                  <!-- Tamanhos serão carregados dinamicamente -->
                </div>
              </div>
              
              <div class="mb-3" id="medidas-section" style="display: none;">
                <label class="form-label fw-bold">Medidas:</label>
                <div class="medidas-info" id="medidas-info">
                  <div class="row">
                    <div class="col-md-6">
                      <small class="text-muted">
                        <strong>Dimensões:</strong> <span id="produto-dimensoes">-</span>
                      </small>
                    </div>
                    <div class="col-md-6">
                      <small class="text-muted">
                        <strong>Peso:</strong> <span id="produto-peso">-</span>
                      </small>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="bloco-compra p-3 mb-3">
              <div class="mb-2">
                <label for="quantidade" class="form-label mb-0"
                  >Quantidade:</label
                >
                <div class="d-flex justify-content-start">
                  <div
                    class="input-group input-group-sm w-auto align-items-center"
                  >
                    <button
                      class="btn btn-outline-secondary"
                      type="button"
                      id="btnDiminuir"
                    >
                      -
                    </button>
                    <input
                      type="text"
                      class="form-control text-center"
                      id="quantidade"
                      value="1"
                      min="1"
                      max="10"
                      style="width: 3rem"
                    />
                    <button
                      class="btn btn-outline-secondary"
                      type="button"
                      id="btnAumentar"
                    >
                      +
                    </button>
                  </div>
                </div>
                <small class="text-muted">Máximo 10 unidades por pedido</small>
              </div>
              <div
                class="d-flex align-items-center justify-content-between mb-2"
              >
                <span class="fw-bold">Total:</span>
                <span class="fs-5 fw-bold" id="produto-total">R$ 0,00</span>
              </div>
              <button class="btn btn-dark w-100 mb-2" id="btnComprarAgora">
                Comprar Agora
              </button>
              <button class="btn btn-outline-dark w-100" id="btnAddCarrinho">
                Adicionar ao Carrinho
              </button>
              <div class="d-flex justify-content-between mt-2">
                <small class="text-muted">Frete grátis</small>
                <small class="text-success">Acima de R$ 199</small>
                <small class="text-muted">2 - 3 dias úteis</small>
              </div>
            </div>
          </div>
        </div>
        <!-- Avaliações -->
        <div class="bloco-avaliacao mt-4 p-4 rounded border">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="fs-5 fw-bold mb-0">Avaliações dos Clientes:</h2>
            <button class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modalAvaliacao">
              <i class="fas fa-star me-1"></i>Avaliar Produto
            </button>
          </div>
          <div class="d-flex align-items-center gap-3 mb-2">
            <span class="fs-2 fw-bold" id="produto-media-avaliacao">0.0</span>
            <span
              class="produto-estrelas fs-4"
              id="produto-media-estrelas"
            ></span>
            <span class="text-muted" id="produto-total-avaliacoes"
              >Baseado em 0 avaliações</span
            >
          </div>
          <div id="produto-avaliacoes">
            <!-- Avaliações via JS -->
          </div>
        </div>

        <!-- Modal de Avaliação -->
        <div class="modal fade" id="modalAvaliacao" tabindex="-1" aria-labelledby="modalAvaliacaoLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modalAvaliacaoLabel">Avaliar Produto</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <label class="form-label">Sua avaliação:</label>
                  <div id="avaliacao-media" class="mb-2">Carregando...</div>
                  <div id="avaliacao-estrelas" class="mb-3">
                    <!-- Estrelas clicáveis serão adicionadas via JS -->
                  </div>
                </div>
                <div class="mb-3">
                  <label for="avaliacao-comentario" class="form-label">Comentário (opcional):</label>
                  <textarea class="form-control" id="avaliacao-comentario" rows="3" placeholder="Compartilhe sua experiência com este produto..."></textarea>
                </div>
                <div id="avaliacao-feedback" class="mb-2"></div>
                <div id="avaliacoes-recentes">
                  <!-- Avaliações recentes serão carregadas via JS -->
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnEnviarAvaliacao" style="display: none;">Enviar Avaliação</button>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <footer
      class="footer-global bg-dark text-white pt-4 pb-0"
      role="contentinfo"
    >
      <div class="container text-center">
        <!-- Links de Navegação -->
        <div class="row justify-content-center mb-3">
          <div class="col-6 col-sm-4 col-md-2">
            <a
              href="politica_privacidade.html"
              class="text-white text-decoration-none hover-green transition-all"
            >
              Política de Privacidade
            </a>
          </div>
          <div class="col-6 col-sm-4 col-md-2 ms-2">
            <a
              href="termos_de_uso.html"
              class="text-white text-decoration-none hover-green transition-all"
            >
              Termos de Uso
            </a>
          </div>
          <div class="col-6 col-sm-4 col-md-2">
            <a
              href="trocas_devolucoes.html"
              class="text-white text-decoration-none hover-green transition-all"
            >
              Trocas e Devoluções
            </a>
          </div>
        </div>

        <!-- Divisor -->
        <hr class="border-secondary my-2 mx-auto" style="max-width: 80%" />

        <!-- Informações de Contato -->
        <div class="row mb-3">
          <div class="col-12 text-center">
            <address class="mb-2 fs-7">
              71080-020 | CNPJ: 74.707.730/0001-63<br />
              Ceilândia, Brasília-DF
            </address>
          </div>
        </div>
      </div>

      <!-- Copyright -->
      <div class="text-white text-center py-3">
        <small class="text-white">
          © 2025 GreenLine - Todos os direitos reservados
        </small>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
